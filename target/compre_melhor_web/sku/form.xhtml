<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui" > 

<ui:composition template="../template/mainLayout.xhtml">
	<ui:define name="content">
		<h:form widgetVar="skuForm">
			<p:messages id="messages"/>
			<div class="ui-panel ui-widget ui-widget-content ui-corner-all" style="text-align: center; margin-bottom: 3px; min-height: 50px;">
				<h3>#{skuController.skuTarget.id == 0 ? 'Cadastro de Produto' : 'Edicao de Produto'}</h3>
			</div>
			<h:panelGrid columns="3">
				<h:outputLabel for="@next" value="Nome: *"/>
				<p:inputText id="name" value="#{skuController.skuTarget.name}"
				required="true" label="Name" />
				<p:message for="@previous"/>
	
	
				<h:outputLabel for="@next" value="Código: *"/>
				<p:inputText id="code" type="number" value="#{skuController.targetSkuBarCode}"
					required="true" label="Código"/>
				<p:message for="@previous"/>
				
				
				<h:outputLabel for="@next" value="Descrição: "/>
				<p:inputTextarea id="description" value="#{skuController.skuTarget.description}"
				maxlength="250" label="Descrição" counter="counter"
				cols="50" rows="5" 
				counterTemplate="Restam {0} caracteres" />
				<h:outputText id="counter" value=""/>
				
				
				<p:outputLabel for="unit" value="Unidade: *"/>
				<p:selectOneMenu id="unit" value="#{skuController.skuTarget.unit}">
					<f:selectItem itemValue="" itemLabel="Selecione"/>
					<f:selectItems value="#{skuController.unitTypeValues}" noSelectionValue="selecione"
						var="u" itemValue="#{u}" itemLabel="#{u}"/>
				</p:selectOneMenu>
				<p:message for="unit"/>
				
				<h:outputLabel for="selectCa" value="Categoria: *"/>
				<p:selectOneMenu id="selectCa" value="#{skuController.skuTarget.category}"
					effext="fade" filter="true" filterMatchMode="startsWith">
					<f:selectItem itemValue="" itemLabel="Selecione"/>
					<f:selectItems value="#{skuController.categories}" noSelectionValue="selecione" 
						var="ca" itemValue="#{ca}" itemLabel="#{ca.name}"/>
					<f:converter converterId="categoryConverter"/>
				</p:selectOneMenu>
				<p:message for="selectCa"/>				
				
				<h:outputLabel for="seleceMfr" value="Fabricante: *"/>
				<p:selectOneMenu id="seleceMfr" value="#{skuController.skuTarget.manufacturer}" required="true">
					<f:selectItem itemValue="" itemLabel="Selecione"/>					<f:selectItems value="#{skuController.mfrs}" noSelectionValue="Selecione"  
						var="mfr" itemValue="#{mfr}" itemLabel="#{mfr.name}"/>
						
					<f:converter converterId="mfrConverter"/>
				</p:selectOneMenu>
				<p:message for="seleceMfr"/>				
				
				
				<p:separator/>
				<p:separator/>
				<p:separator/>
				
				
				<p:commandButton rendered="#{skuController.skuTarget.id eq 0}"  
				value="Cadastrar" validateClient="true"
				action="#{skuController.createSku}" ajax="false"/>			
				
				
				<p:commandButton rendered="#{skuController.skuTarget.id ne 0}"  
				value="Alterar" validateClient="true" 
				action="#{skuController.editSku(sku.id)}" ajax="false"/>
				
				<p:commandLink type="button" value="Voltar" action="list?faces-redirect=true" />
			</h:panelGrid>
		</h:form>
		
	</ui:define>
</ui:composition>
</html>
